{"ast":null,"code":"var _jsxFileName = \"/Users/nicsantos/Desktop/docersp/ersp-matching/frontend/src/views/AddProfessor.tsx\";\nimport React, { useState, useEffect } from 'react';\nconst AddProfessor = () => {\n  const [form, setForm] = useState({\n    name: '',\n    email: '',\n    ta_preferences: [],\n    req_tas: 1\n  });\n  const [allTAs, setAllTAs] = useState([]);\n  const [filteredTAs, setFilteredTAs] = useState([]);\n\n  // Fetch all TAs on mount\n  useEffect(() => {\n    fetch('http://localhost:8000/api/v1/teaching-assistants/').then(res => res.json()).then(data => setAllTAs(data));\n  }, []);\n\n  // Filter TAs as professor name changes\n  useEffect(() => {\n    if (!form.name) {\n      setFilteredTAs([]);\n      return;\n    }\n    setFilteredTAs(allTAs.filter(ta => ta.professor_preferences && ta.professor_preferences.split(',').map(p => p.trim()).includes(form.name)));\n  }, [form.name, allTAs]);\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type\n    } = e.target;\n    if (name === 'ta_preferences') {\n      // For multi-select, value is an array of selected options\n      const options = e.target.selectedOptions;\n      const values = Array.from(options).map(option => option.value);\n      setForm({\n        ...form,\n        [name]: values\n      });\n    } else {\n      setForm({\n        ...form,\n        [name]: type === 'number' ? Number(value) : value\n      });\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    await fetch('http://localhost:8000/api/v1/professors/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        ...form,\n        ta_preferences: form.ta_preferences.join(',') // send as comma-separated string\n      })\n    });\n    alert('Professor added!');\n  };\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, \"Add Professor\"), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"name\",\n    placeholder: \"Name\",\n    value: form.name,\n    onChange: handleChange,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"email\",\n    placeholder: \"Email\",\n    value: form.email,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"req_tas\",\n    type: \"number\",\n    min: \"1\",\n    value: form.req_tas,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, \"TA Preferences:\", /*#__PURE__*/React.createElement(\"select\", {\n    name: \"ta_preferences\",\n    multiple: true,\n    value: form.ta_preferences,\n    onChange: handleChange,\n    style: {\n      minHeight: 100,\n      width: 200\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, filteredTAs.map(ta => /*#__PURE__*/React.createElement(\"option\", {\n    key: ta.id,\n    value: ta.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, ta.name, \" (\", ta.email, \")\")))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, \"Add Professor\"));\n};\nexport default AddProfessor;","map":{"version":3,"names":["React","useState","useEffect","AddProfessor","form","setForm","name","email","ta_preferences","req_tas","allTAs","setAllTAs","filteredTAs","setFilteredTAs","fetch","then","res","json","data","filter","ta","professor_preferences","split","map","p","trim","includes","handleChange","e","value","type","target","options","selectedOptions","values","Array","from","option","Number","handleSubmit","preventDefault","method","headers","body","JSON","stringify","join","alert","createElement","onSubmit","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","required","min","multiple","style","minHeight","width","key","id"],"sources":["/Users/nicsantos/Desktop/docersp/ersp-matching/frontend/src/views/AddProfessor.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst AddProfessor: React.FC = () => {\n  const [form, setForm] = useState({\n    name: '',\n    email: '',\n    ta_preferences: [],\n    req_tas: 1\n  });\n  const [allTAs, setAllTAs] = useState<any[]>([]);\n  const [filteredTAs, setFilteredTAs] = useState<any[]>([]);\n\n  // Fetch all TAs on mount\n  useEffect(() => {\n    fetch('http://localhost:8000/api/v1/teaching-assistants/')\n      .then(res => res.json())\n      .then(data => setAllTAs(data));\n  }, []);\n\n  // Filter TAs as professor name changes\n  useEffect(() => {\n    if (!form.name) {\n      setFilteredTAs([]);\n      return;\n    }\n    setFilteredTAs(\n      allTAs.filter(ta =>\n        ta.professor_preferences &&\n        ta.professor_preferences.split(',').map((p: string) => p.trim()).includes(form.name)\n      )\n    );\n  }, [form.name, allTAs]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\n    const { name, value, type } = e.target;\n    if (name === 'ta_preferences') {\n      // For multi-select, value is an array of selected options\n      const options = (e.target as HTMLSelectElement).selectedOptions;\n      const values = Array.from(options).map(option => option.value);\n      setForm({ ...form, [name]: values });\n    } else {\n      setForm({ ...form, [name]: type === 'number' ? Number(value) : value });\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    await fetch('http://localhost:8000/api/v1/professors/', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        ...form,\n        ta_preferences: form.ta_preferences.join(',') // send as comma-separated string\n      })\n    });\n    alert('Professor added!');\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <h2>Add Professor</h2>\n      <input name=\"name\" placeholder=\"Name\" value={form.name} onChange={handleChange} required />\n      <input name=\"email\" placeholder=\"Email\" value={form.email} onChange={handleChange} />\n      <input name=\"req_tas\" type=\"number\" min=\"1\" value={form.req_tas} onChange={handleChange} />\n      <label>\n        TA Preferences:\n        <select\n          name=\"ta_preferences\"\n          multiple\n          value={form.ta_preferences}\n          onChange={handleChange}\n          style={{ minHeight: 100, width: 200 }}\n        >\n          {filteredTAs.map(ta => (\n            <option key={ta.id} value={ta.name}>\n              {ta.name} ({ta.email})\n            </option>\n          ))}\n        </select>\n      </label>\n      <button type=\"submit\">Add Professor</button>\n    </form>\n  );\n};\n\nexport default AddProfessor;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}